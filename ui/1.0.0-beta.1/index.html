<!DOCTYPE html>
<html lang="en">
  <head>
    <title>MapboxSearchUI  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
    <meta class="swiftype" name="type" data-type="enum" content="MapboxSearchUI Reference" />
    <meta class="swiftype" name="title" data-type="string" content="MapboxSearchUI" />
    <style type="text/css">
      .nav-group-name[data-name="MapboxSearchUI"] > .small-heading,
      .nav-group-task[data-name="MapboxSearchUI"] {
        background-color: #f5f8fc;
        font-family: "Open Sans Bold";
        border-left: 3px solid #3a68d8;
        padding-left: 5px
      }
    </style>
  </head>
  <body>


    <a title="MapboxSearchUI  Reference"></a>

    <header class="header-container">
      <div class="limiter">
        <div class="header">
        <p class="header-col header-col--primary">
          <a class="header-link" href="index.html">
            <img style="height: 25px;"  class="header-icon" src="img/mapbox.svg" alt="MapboxSearchUI Docs"/>
            <span class='header-tag'>MapboxSearchUI v1.0.0-beta.1 Docs Reference (v1.0.0-beta.1)</span>
          </a>
           (13% documented)
        </p>
    
    
      </div>
      </div>
    </header>

    <div class="breadcrumbs">
      <div class="limiter">
        <a class="breadcrumb" href="index.html">MapboxSearchUI Reference</a>
        <img class="carat" src="img/carat.png" />
        MapboxSearchUI  Reference
      </div>
    </div>

    <div class="content-wrapper limiter">
      <nav class="navigation">
          <div class="header-col--secondary">
            <form role="search" action="search.json">
              <input type="text" placeholder="Search documentation" data-typeahead>
            </form>
          </div>
        <ul class="nav-groups">
          <li class="nav-group-name" data-name="Classes">
            <a class="small-heading" href="Classes.html">Classes<span class="anchor-icon" /></a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task" data-name="MapboxPanelController" data-url="Classes/MapboxPanelController.html">
                <a title="MapboxPanelController" class="nav-group-task-link" href="Classes/MapboxPanelController.html">MapboxPanelController</a>
              </li>
              <li class="nav-group-task" data-name="– State" data-url="Classes/MapboxPanelController/State.html">
                <a title="– State" class="nav-group-task-link" href="Classes/MapboxPanelController/State.html">– State</a>
              </li>
              <li class="nav-group-task" data-name="– Configuration" data-url="Classes/MapboxPanelController/Configuration.html">
                <a title="– Configuration" class="nav-group-task-link" href="Classes/MapboxPanelController/Configuration.html">– Configuration</a>
              </li>
              <li class="nav-group-task" data-name="MapboxSearchController" data-url="Classes/MapboxSearchController.html">
                <a title="MapboxSearchController" class="nav-group-task-link" href="Classes/MapboxSearchController.html">MapboxSearchController</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name" data-name="Extensions">
            <a class="small-heading" href="Extensions.html">Extensions<span class="anchor-icon" /></a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task" data-name="Maki" data-url="Extensions/Maki.html">
                <a title="Maki" class="nav-group-task-link" href="Extensions/Maki.html">Maki</a>
              </li>
              <li class="nav-group-task" data-name="Notification" data-url="Extensions/Notification.html">
                <a title="Notification" class="nav-group-task-link" href="Extensions/Notification.html">Notification</a>
              </li>
              <li class="nav-group-task" data-name="– Name" data-url="Extensions/Notification/Name.html">
                <a title="– Name" class="nav-group-task-link" href="Extensions/Notification/Name.html">– Name</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name" data-name="Protocols">
            <a class="small-heading" href="Protocols.html">Protocols<span class="anchor-icon" /></a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task" data-name="SearchControllerDelegate" data-url="Protocols/SearchControllerDelegate.html">
                <a title="SearchControllerDelegate" class="nav-group-task-link" href="Protocols/SearchControllerDelegate.html">SearchControllerDelegate</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            
            <p><a href="https://travis-ci.com/mapbox/mapbox-search-ios"><img src="https://travis-ci.com/mapbox/mapbox-search-ios.svg?token=RFQyd2WdpP1rWCUePJ45&branch=develop" alt="Build Status"></a>
<a href="https://developer.apple.com/swift"><img src="https://img.shields.io/badge/swift-4.2+-orange.svg?style=flat&logo=swift" alt="Swift version"></a>
<a href="https://developer.apple.com/ios/"><img src="https://img.shields.io/badge/iOS-11.0+-green.svg?style=flat&logo=apple" alt="iOS version"></a>
<a href="https://developer.apple.com/xcode/"><img src="https://img.shields.io/badge/Xcode-11.3+-DeepSkyBlue.svg?style=flat&logo=xcode&logoColor=lightGray" alt="Xcode version"></a></p>
<h1 id='mapbox-search-sdk-for-ios' class='heading'>Mapbox Search SDK for iOS</h1>
<h1 id='table-of-contents' class='heading'>Table of contents</h1>

<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#main-features">Main features</a></li>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#getting-started">Getting Started</a></li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#project-structure-overview">Project structure overview</a></li>
<li><a href="#distribution">Distribution</a>

<ul>
<li><a href="#binary">Binary</a></li>
<li><a href="#cocoapods">Cocoapods</a></li>
<li><a href="#carthage">Carthage</a></li>
<li><a href="#swift-package-manager">Swift Package Manager</a></li>
</ul></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#versioning">Versioning</a></li>
</ul>
<h1 id='overview' class='heading'>Overview</h1>

<p>The Mapbox Search SDK is a developer toolkit to add location search on mobile devices.
With the same speed and scale of the Mapbox Search API, the SDK is built specifically for on-demand and local search use cases, like ride-share, food delivery, and store finders apps.
Whether your users are trying to find a place among the vast amount of data on a global map, or to find the exact location of a venue a few miles down the road, the Search SDK provides location search for countries all over the globe, in many different languages.</p>

<p>Previously, implementing search into your application required custom tuning with every API request to set a language, location biasing, and result types.
There was no pre-built UI and no option for a user to see their search history, or save favorites.</p>

<p>The Mapbox Search SDK allows you to drop pre-tuned search into your application, removing the complexity of API configuration, while still giving you control to customize.
It ships with an optional UI framework, or you can build a completely custom implementation with your own UI elements by using the core library.
The Search SDK is pre-configured for autocomplete, local search biasing, and includes new features like category search, search history, and search favorites.</p>
<h2 id='requirements' class='heading'>Requirements</h2>

<ul>
<li>iOS 11.0 and newer</li>
<li>Xcode 11.3 and newer</li>
<li>Swift 4.2 and newer</li>
<li>Objective-C is not supported</li>
<li>macOS/tvOS/watchOS platforms currently are not supported</li>
</ul>
<h2 id='main-features' class='heading'>Main features</h2>

<ul>
<li>Easy-to-use pre-tuned search options to integrate search into your app quickly.

<ul>
<li>Local search for a specific address or POI</li>
</ul></li>
<li>Pre-configured and customizable category search for popular categories like cafes, ATMs, hotels, and gas stations.</li>
<li>On-device user search history</li>
<li>On-device favorites</li>
<li>Import/export customer data with your own protocols</li>
<li>Provide you own persistent providers for customer data like History or Favorites</li>
</ul>
<h2 id='prerequisites' class='heading'>Prerequisites</h2>

<p>The SDK requires CMake which you can install using Homebrew. </p>

<ol>
<li>Check that Homebrew is installed by running <code>brew -v</code>. If you don&rsquo;t have Homebrew, <a href="https://brew.sh/">install before proceeding.</a></li>
<li>Update Homebrew data to install latest tools versions<br>
<code>brew update</code></li>
<li>Install CMake
<code>brew install cmake</code></li>
<li>Install Carthage (required version: 0.35 and newer)
<code>brew install carthage</code> or <code>brew upgrade carthage</code></li>
<li>Build dependencies:
<code>make dependencies</code></li>
<li><p>Mapbox APIs require a Mapbox account and access token. Get an access token from the <a href="https://account.mapbox.com/access-tokens/">Mapbox account page</a>. To run a Demo you can provide a token in different ways:</p>

<ol>
<li><p>Create a new file named <code>mapbox</code> or <code>.mapbox</code> in your home directory with content of your access token. We also support <code>.mapbox</code> file in the repository root folder. MapboxSearchDemoApplication will automatically handle this key and insert it in corresponding place.</p>

<p><em>Note: Run <code>pbpaste &gt; ~/.mapbox</code> in Terminal.app to insert you Pastebord (Command+C buffer) into <code>.mapbox</code> in Home directory.</em></p></li>
<li><p>Open the Workspace, choose <code>MapboxSearchDemoApplication</code> project and select &ldquo;Info&rdquo; tab for &ldquo;MapboxSearchDemoApplication&rdquo; target. Here you can set your accessToken for <code>MGLMapboxAccessToken</code> key in &ldquo;Custom iOS Target Properties&rdquo; section.</p></li>
<li><p>Provide your accessToken directly in argument named <code>accessToken</code> in <code>SearchDrawer.make(:)</code> method</p></li>
</ol></li>
</ol>
<h2 id='getting-started' class='heading'>Getting Started</h2>

<p>Once you&rsquo;ve installed the prerequisites, no additional steps are needed: Open the Workspace and use any available scheme. The SDK includes a demo app that you can run on your iOS device or simulator by choosing MapboxSearchDemoApplication. </p>
<h2 id='documentation' class='heading'>Documentation</h2>

<p><em>The link to iOS documentation will be added soon (instruction on how to build, usage the API, ready-to-use examples).</em></p>
<h2 id='project-structure-overview' class='heading'>Project structure overview</h2>

<p>MapboxSearch project consist of five targets:</p>

<ol>
<li>search-native.a (hidden; Bindgen generated Xcode project)</li>
<li>MapboxCoreSearch.framework (hidden; Bindgen generated Xcode project)</li>
<li>MapboxSearch.framework</li>
<li>MapboxSearchUI.framework</li>
<li>MapboxSearchDemoApplication</li>
</ol>

<p>search-native.a written in C++ and MapboxCoreSearch.framework is generated by <a href="https://github.com/mapbox/mapbox-bindgen">bindgen</a> using Objective-C++ language. Both targets live in submodule and get compiled by scripts in this submodule. </p>

<p>While search-native.a implements most of the shared logic, MapboxSearch.framework contains all the platform business logic for Search. </p>

<p>MapboxSearchUI.framework provides a default UI implementation with customization points to meet the most common customer needs. The UI elements include a search bar with result list, category search icons, history and favorites management, and a combined search/category search UI. (Screenshots coming soon)</p>

<p>MapboxSearchDemoApplication provides a Demo app wih MapboxSearchUI.framework presentation over the basic MapView. To get access to nightly builds in TestFlight, make a request to Search iOS developers.</p>
<h2 id='distribution' class='heading'>Distribution</h2>

<ol>
<li><p>Build frameworks:</p>

<ol>
<li>To build both MapboxSearch and MapboxSearchUI frameworks run <code>make products</code>. The default output folder is <code>Products</code> in the repository root.</li>
</ol></li>
<li><p>Upload binary to SDK-Registry:</p>

<ol>
<li>Make sure you have Mapbox AWS account, if not then should create ticket in user-isolation repository <a href="https://github.com/mapbox/user-isolation/issues/new/choose">request AWS account</a></li>
<li>You need to install <a href="https://github.com/mapbox/mbxcli">mbxcli</a> to be able to upload artifacts to AWS S3.</li>
<li>Run command <code>mbx login default</code>. After successful login AWS console will open in your default browser.</li>
<li>In section <code>AWS services&#39; find subsection</code>All services<code>and then inside of it</code>Storage<code>. You should select the</code>S3` item from it.</li>
<li>From the list of buckets we should select <code>mapbox-api-downloads-production</code>.</li>
<li>All search SDK versions published in <code>v2/search-sdk/releases/</code>. For each new version you should create a separate folder named as version number. Example of correct structure and naming you can see in <code>0.7.0</code> folder.For more details on SDK registry  you can see <a href="https://docs.google.com/document/d/1b2hW3iep3bTO0O9RwD_8beMTPhIJF-SV67EC7SKG52U/edit">SDK Registry FAQ</a> and <a href="https://platform.tilestream.net/managed-infrastructure/sdk-registry/reference/">SDK Registry documentation</a></li>
</ol></li>
<li><p>Prepare sdk-registry config:</p>

<ol>
<li>Configs are located in <a href="https://github.com/mapbox/api-downloads">api-downloads/config/search-sdk</a> repository. Config specification can be found <a href="https://platform.tilestream.net/managed-infrastructure/sdk-registry/reference/#configure-the-sdk-registry">here</a>.</li>
<li>Create new config file or update existing. Each version requires a separate config file and should be named appropriate (e.g. <code>0.7.0.yaml</code>).</li>
<li>Config file content should contain a list of ios packages, look at <code>0.7.0.yaml</code> for the <a href="https://github.com/mapbox/api-downloads/pull/172/files">example</a>.</li>
<li>Open PR with updated config file.</li>
</ol></li>
<li><p>Update podspecs files:</p>

<ol>
<li>Podspec files located in <code>mapbox-search-ios</code> repository (<code>MapboxSearch.podspec</code> and <code>MapboxSearchUI.podspec</code>).</li>
<li>In podspec files update the version field (<code>s.version = &#39;new.version.number&#39;</code>) and url to binaries if changed (<code>s.source = { :http =&gt; &quot;&quot; }</code>).</li>
<li>In MapboxSearchUI.podspec file update dependency version (<code>s.dependency &#39;MapboxSearch&#39;, &quot;~&gt; new.version.number&quot;</code>).</li>
<li>Validate updated podspecs by running <code>mapbox-search-ios/scripts/pod_lint.sh</code> (it will lint both podspec files).</li>
<li>Open <code>PR</code> with updated podspecs.</li>
<li>Upload podspecs to repository (<a href="https://github.com/mapbox/pod-specs-internal">internal</a> or <a href="https://github.com/mapbox/pod-specs">public</a>). Instructions for how to upload pospec are in <code>readme.md</code> of podspecs repositories.</li>
</ol></li>
</ol>
<h3 id='binary' class='heading'>Binary</h3>

<p>During development MapboxSearch.framework and MapboxSearchUI.framework are distributed as binary xcframework with dynamic framework inside. Supported architectures are: <code>arm64</code> and <code>x86_64</code>.
Latest release binaries can be found in Github Releases: <a href="https://github.com/mapbox/mapbox-search-ios/releases">link</a>.</p>
<h3 id='cocoapods' class='heading'>Cocoapods</h3>
<h5 id='mapboxsearch' class='heading'>MapboxSearch</h5>

<p>To integrate latest preview version of <code>MapboxSearch</code> into your Xcode project using CocoaPods, specify it in your <code>Podfile</code>:  </p>
<pre class="highlight plaintext"><code>pod 'MapboxSearch', "&gt;= 1.0.0-beta", "&lt; 2.0"
</code></pre>
<h5 id='mapboxsearchui' class='heading'>MapboxSearchUI</h5>

<p>To integrate latest preview version of <code>MapboxSearchUI</code> into your Xcode project using CocoaPods, specify it in your <code>Podfile</code>:  </p>
<pre class="highlight plaintext"><code>pod 'MapboxSearchUI', "&gt;= 1.0.0-beta", "&lt; 2.0"
</code></pre>
<h3 id='carthage' class='heading'>Carthage</h3>

<p>Carthage integration is available for everybody with repository read access.
Add following line in your project <code>Cartfile</code>:</p>
<pre class="highlight plaintext"><code>github "mapbox/mapbox-search-ios"
</code></pre>

<p>All the dependencies would be installed automatically. Pay an attention that Carthage integration build <code>MapboxSearch</code> and <code>MapboxSearchUI</code> from sources and simultaneously. </p>
<h3 id='swift-package-manager' class='heading'>Swift Package Manager</h3>

<p>Xcode 12 Beta 5 doesn&rsquo;t support <code>~/.netrc</code> authentification. The good news is that the actual functionality was implemented and merged in <a href="https://github.com/apple/swift-tools-support-core/pull/88">apple/swift-tools-support-core#88</a>.</p>
<h2 id='contributing' class='heading'>Contributing</h2>

<p>We welcome feedback and code contributions!</p>

<p>If you found a bug or want to request a feature <a href="https://github.com/mapbox/mapbox-search-ios/issues">open a github issue</a>. Please use the appropriate issue template.</p>
<h2 id='code-of-conduct' class='heading'>Code of Conduct</h2>
<h3 id='our-standards' class='heading'>Our Standards</h3>

<p>Examples of behavior that contributes to creating a positive environment include:</p>

<ul>
<li>Using welcoming and inclusive language.</li>
<li>Being respectful of differing viewpoints and experiences.</li>
<li>Gracefully accepting constructive criticism.</li>
<li>Focusing on what is best for the community.</li>
<li>Showing empathy towards other community members.</li>
</ul>

<p>We recommend reading <a href="https://github.blog/2015-01-21-how-to-write-the-perfect-pull-request/">this blog post from Github on writing great PRs.</a>.</p>
<h1 id='versioning' class='heading'>Versioning</h1>

<p>We use <a href="http://semver.org/">SemVer</a> for versioning. For the versions available, see the <a href="https://github.com/mapbox/mapbox-search-ios/tags">tags on repository</a>.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer limiter">
      <p>Copyright © 2020 Mapbox, Inc. You may use this code with your Mapbox account and under the Mapbox Terms of Service (available at: <a href="https://www.mapbox.com/legal/tos">https://www.mapbox.com/legal/tos</a>). All other rights reserved.</p> Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.5</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.
    </section>
  </body>
</div>
</html>
